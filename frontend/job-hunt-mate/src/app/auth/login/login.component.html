<div class="login-container">
    <div class="login-card">
        <img src="logo.svg" alt="Logo" class="logo" />
        <h2 class="title">Welcome back</h2>
        <p class="subtitle">Please enter your details to sign in.</p>

        <div class="social-buttons">
            <button class="social"><i class="fab fa-github"></i></button>
            <button class="social"><i class="fab fa-google"></i></button>
            <button class="social"><i class="fab fa-linkedin-in"></i></button>
        </div>

        <div class="divider"><span>OR</span></div>

        <div class="error-banner" *ngIf="loginError">
            <i class="fas fa-exclamation-circle"></i> {{ loginError }}
        </div>

        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
                <label for="usernameOrEmail">Username or Email</label>
                <div class="input-container">
                    <input type="text" id="usernameOrEmail" formControlName="usernameOrEmail"
                        placeholder="Enter your username or email" [class.error]="isFieldInvalid('usernameOrEmail')"
                        autocomplete="off" />
                </div>
                <div class="error-message" *ngIf="isFieldInvalid('usernameOrEmail')">
                    <i class="fas fa-exclamation-circle"></i> {{ getErrorMessage('usernameOrEmail') }}
                </div>
            </div>
            <div class="form-group">
                <label for="password">Password</label>
                <div class="input-container">
                    <input [type]="showPassword ? 'text' : 'password'" id="password" formControlName="password"
                        placeholder="Enter your password" [class.error]="isFieldInvalid('password')"
                        autocomplete="current-password" />
                    <button type="button" class="toggle-password" (click)="showPassword = !showPassword"
                        [attr.aria-label]="showPassword ? 'Hide password' : 'Show password'">
                        <i class="fas" [class.fa-eye]="!showPassword" [class.fa-eye-slash]="showPassword"></i>
                    </button>
                </div>
                <div class="error-message" *ngIf="isFieldInvalid('password')">
                    <i class="fas fa-exclamation-circle"></i> {{ getErrorMessage('password') }}
                </div>
            </div>

            <div class="remember-forgot">
                <label><input type="checkbox" formControlName="rememberMe"/> Remember me</label>
                <a routerLink="/forgot-password">Forgot password?</a>
            </div>
            <div class="form-actions">
                <button type="submit" [disabled]="isLoading" class="primary-btn">
                    <span *ngIf="isLoading" class="spinner"></span>
                    {{ isLoading ? 'Signing in...' : 'Sign In' }}
                </button>
            </div>
        </form>

        <div class="signup">
            Don't have an account yet? <a routerLink="/register" class="signup-link">Sign Up</a>
        </div>
    </div>
</div>